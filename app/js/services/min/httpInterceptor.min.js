module.exports=function(e,r,t){var n=this;return n.request=function(e){var t=r.token,n=r.username;return t&&n&&(e.headers["x-token"]=t,e.headers["x-username"]=n),e},n.responseError=function(r){return 401===r.status&&e.$broadcast("unauthorized"),t.reject(r)},this};